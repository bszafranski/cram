

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Model Basics &mdash; CRAM  documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/cram-icon-32.png"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Creating a Network" href="create-network.html" />
    <link rel="prev" title="What Is CRAM" href="what-is-cram.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> CRAM
          

          
            
            <img src="_static/cram-sidebar-Lynker-flip.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                4.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="what-is-cram.html">What Is CRAM</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Model Basics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#network-elements">Network Elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-network-schematic">The Network Schematic</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-user-input-sheet">The User Input Sheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="#time-steps">Time Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#operation-steps">Operation Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#user-code">User Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cram-worksheet-names">CRAM Worksheet Names</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="create-network.html">Creating a Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="running-cram.html">Running a Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">Model Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="details.html">Model Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive.html">Interactive CRAM Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="model-version.html">Model Version</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Help</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CRAM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Model Basics</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/basics.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="model-basics">
<h1>Model Basics<a class="headerlink" href="#model-basics" title="Permalink to this headline">¶</a></h1>
<div class="section" id="network-elements">
<h2>Network Elements<a class="headerlink" href="#network-elements" title="Permalink to this headline">¶</a></h2>
<p>CRAM uses 8 types of objects to represent real-world systems.</p>
<ul class="simple">
<li><p><strong>Nodes:</strong> Nodes are general-purpose elements within the model network. They are used along with links to build a model network that represents a real-world system. Mass balance nodes are a special type of node added automatically by CRAM. They are connected to inflows and demands and are used to maintain mass balance.</p></li>
<li><p><strong>Links:</strong> Links are general-purpose elements most often used to simulate rivers or canal reaches. They are also used as arbitrary connectors between two nodes.</p></li>
<li><p><strong>Inflows:</strong> Inflows represent flow into a network. They are frequently used to represent a raw water supply such as a river.</p></li>
<li><p><strong>Demands:</strong> Demands represent flow out of a network. They are frequently used to represent withdrawals from a system such as a diversion ditch or water right.</p></li>
<li><p><strong>Reservoirs:</strong> Reservoirs represent storage within a system. They are more complex than other network elements, requiring nodes and links for proper configuration.</p></li>
<li><p><strong>Decrees:</strong>  Decrees are used to model water rights. They can be used to represent the limits on total annual diversion to canals, to set annual filling limits on water rights into reservoirs, or to limit supplemental water to an annual limit without having to determine in which months it might be needed.</p></li>
<li><p><strong>Return Flows:</strong> Return flows represent water that leaves the surface water system at one location but then returns at another location and possibly another time.</p></li>
<li><p><strong>Instream Flows:</strong> Instream flows represent the minimum water that must be available in a river, for example to support fish health.</p></li>
</ul>
<p><strong>Data Objects</strong> are an additional type of model object that can be added to the network. They are used to track model output and do not affect the configuration or solution of the model. That is to say, Data Objects don’t connect with a To Node and From Node within the network.</p>
</div>
<div class="section" id="the-network-schematic">
<span id="networkschematic-label"></span><h2>The Network Schematic<a class="headerlink" href="#the-network-schematic" title="Permalink to this headline">¶</a></h2>
<p>The network schematic shows the physical connections in the model network. It is the user interface for CRAM, displaying a graphical representation of the links and nodes that represent the system. This includes inflows, reservoirs, demands, return flows, and groundwater use. <strong>Click the image below for a full resolution network schematic.</strong></p>
<a class="reference internal image-reference" href="_images/network-schematic.png"><img alt="CRAM Demo Model Network Schematic" class="align-center" src="_images/network-schematic.png" style="width: 779.0999999999999px; height: 458.49999999999994px;" /></a>
<p>The network schematic is an interactive interface for building the model and editing model parameters. It allows the user to access most locations in the model. For instance, clicking on Link 15 opens a pop-up that lists the link name, how it’s connected in the model (From Node, To Node), and the types of output it should have. <strong>This is shown in the image provided below.</strong></p>
<img alt="_images/interactive-interface-v2.png" src="_images/interactive-interface-v2.png" />
</div>
<div class="section" id="the-user-input-sheet">
<h2>The User Input Sheet<a class="headerlink" href="#the-user-input-sheet" title="Permalink to this headline">¶</a></h2>
<p>The user input sheet contains the settings for a model. This allows the user to run the model, set model parameters, and show additional model details to name a few. The complexity of this sheet is dependent on the complexity of the model.</p>
<p>The user sheet can set the level of detail in the model, with the “Basic User” hiding most model sheets as discussed in the <a class="reference internal" href="#worksheet-label"><span class="std std-ref">CRAM Worksheet Names</span></a> section. The “Advanced User” reveals the timeseries data sheets within the model and “Developer” mode unhides all of the sheets in a model workbook.</p>
<img alt="_images/level-of-detail.png" src="_images/level-of-detail.png" />
</div>
<div class="section" id="time-steps">
<h2>Time Steps<a class="headerlink" href="#time-steps" title="Permalink to this headline">¶</a></h2>
<p>CRAM can be operated at any time step; however, daily, weekly, and monthly are the most common.</p>
<p>CRAM operates using a two time step hierarchy: the major time step and the minor time step. These two modeling concepts are used to represent real-world time periods. For example, a common model representation would be that the major time step represents years and the minor time step represents months.</p>
<p>The minor time step is where most of the work gets done - CRAM solves the network once or more at each minor time step. The major time step is a concept used to organize data for the minor time steps.</p>
</div>
<div class="section" id="operation-steps">
<h2>Operation Steps<a class="headerlink" href="#operation-steps" title="Permalink to this headline">¶</a></h2>
<p>Operations steps are used to build complex system operations that are often involved with water rights, reservoirs and exchanges. More information on the use of operation steps can be found in the <a class="reference internal" href="details.html#details-label"><span class="std std-ref">Model Details</span></a> documentation.</p>
<img alt="two types of nodes in network" src="_images/ops-step-manager.png" />
</div>
<div class="section" id="user-code">
<h2>User Code<a class="headerlink" href="#user-code" title="Permalink to this headline">¶</a></h2>
<p>Since CRAM runs within Excel, VBA code can be used to check and changes values in the model while it is running. These functions allow the user to intercept the execution of the model at various points to allow the use of macros. This is useful for creating customized conditions based on complex system operations. More information on the user code can be found in the <a class="reference internal" href="details.html#details-label"><span class="std std-ref">Model Details</span></a> documentation.</p>
</div>
<div class="section" id="cram-worksheet-names">
<span id="worksheet-label"></span><h2>CRAM Worksheet Names<a class="headerlink" href="#cram-worksheet-names" title="Permalink to this headline">¶</a></h2>
<p>Most of the CRAM model data (time series data, model parameters, network connections) are stored within Excel worksheets. The worksheets have been listed in the tables below based on their functionality within in the model. By default many of these sheets are hidden to users. This functionality can be changed via the Worksheet Dictionary.</p>
<p><strong>Standard CRAM Sheets:</strong> This is the core functionality within CRAM. Do not rename or delete these sheets.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 11%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sheet Name</p></th>
<th class="head"><p>User Level</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>User Controls</p></td>
<td><p>Basic</p></td>
<td><p>Contains settings for the model, most recent run.</p></td>
</tr>
<tr class="row-odd"><td><p>Network Schematic</p></td>
<td><p>Basic</p></td>
<td><p>Contains the Network diagram.</p></td>
</tr>
<tr class="row-even"><td><p>Worksheet Output Template</p></td>
<td><p>Basic</p></td>
<td><p>Contains list of elements to export to output file.</p></td>
</tr>
<tr class="row-odd"><td><p>Worksheet Dictionary</p></td>
<td><p>Basic</p></td>
<td><p>Controls sheet visibility.</p></td>
</tr>
<tr class="row-even"><td><p>Model Workbook Version History</p></td>
<td><p>Basic</p></td>
<td><p>Worksheet to track changes to model workbook. Manually
updated by users.</p></td>
</tr>
<tr class="row-odd"><td><p>Output Sheet</p></td>
<td><p>Basic</p></td>
<td><p>Worksheet to store model results for model run. CRAM raw output.</p></td>
</tr>
</tbody>
</table>
<p><strong>Internal CRAM Sheets:</strong> These sheets are hidden in the default “Basic User” settings. Do not rename or delete these sheets.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 8%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sheet Name</p></th>
<th class="head"><p>User Level</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Global Data Sheet</p></td>
<td><p>Developer</p></td>
<td><p>Contains settings for CRAM model, global variables for model execution, most recent run and dialog box settings.</p></td>
</tr>
<tr class="row-odd"><td><p>Node Sheet</p></td>
<td><p>Developer</p></td>
<td><p>Contains text data used in node dialog box.</p></td>
</tr>
<tr class="row-even"><td><p>Link Sheet</p></td>
<td><p>Developer</p></td>
<td><p>Contains text data used in link dialog box.</p></td>
</tr>
<tr class="row-odd"><td><p>Inflow Sheet</p></td>
<td><p>Developer</p></td>
<td><p>Contains text data used in inflow dialog box.</p></td>
</tr>
<tr class="row-even"><td><p>Demand Sheet</p></td>
<td><p>Developer</p></td>
<td><p>Contains text data used in demand dialog box.</p></td>
</tr>
<tr class="row-odd"><td><p>Reservoir Sheet</p></td>
<td><p>Developer</p></td>
<td><p>Contains text data used in reservoir dialog box.</p></td>
</tr>
</tbody>
</table>
<p><strong>Time Series Data Sheets:</strong> These sheets are automatically created by CRAM as the user builds the model. They are sequentially numbered by CRAM.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 13%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sheet Name</p></th>
<th class="head"><p>User Level</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Link n</p></td>
<td><p>Advanced</p></td>
<td><p>Contains time series data for user defined link sheets.</p></td>
</tr>
<tr class="row-odd"><td><p>Inflow n</p></td>
<td><p>Advanced</p></td>
<td><p>Contains time series data for user defined inflow sheets.</p></td>
</tr>
<tr class="row-even"><td><p>Demand n</p></td>
<td><p>Advanced</p></td>
<td><p>Contains time series data for user defined demand sheets.</p></td>
</tr>
<tr class="row-odd"><td><p>Instream flow n</p></td>
<td><p>Advanced</p></td>
<td><p>Contains time series data for user defined instream flow sheets.</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="create-network.html" class="btn btn-neutral float-right" title="Creating a Network" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="what-is-cram.html" class="btn btn-neutral" title="What Is CRAM" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Lynker Technologies LLC

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>